language: node.js
service: docker
before_script:
- npm install
- npm install -g gulp
script: gulp travis-build
after_success:
- docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
- export REPO=drtodolittle/web-client
- export TAG=1.0.0-SNAPSHOT
- docker build -f Dockerfile -t $REPO:latest .
- docker tag $REPO:latest $REPO:$TAG
- docker tag $REPO:latest $REPO:latest
- docker push $REPO
env:
  global:
  - secure: S9l4Hi+HhGyl7MVerl9P9vHp0qyc0uK1NVHqVFlLKwPLhQutRV1+Mspag6uGjZdlePF1ABTE+LLh9VhWS1PnNOhX5EeUmIy4MDzHx7oCRxyJZHki58d/9XZI4p+MgPR3dSZgM/ZH8BQ5C4fABzPEaBxYs7fYxZ8O0evmKtUCs0+JXWy0X67DU4CHLwvCfnN7jjIO1TM4Issiqv/GQVJS6rRH+lhwO4UsQlmaIcO6QcYqWlqqywl3YOEzcevg4rTe7yZ4b60jYtcsf0byyEC/mzzE4y6FySuvPu99whbxho9rH3/P65LW20MaTppFvk08W+MtNVB/kmpnkOUcxASTaUqVN0V2Ka28LAe5+sOIsNWsw4SvdMmZgLxyWICEInm84SNhD+L9nv0UdzzoYtog3f2JdUXfEkanjBv9fW84WBwf+3QQZkulVVcIlvcBqLpIAKnlm63sbZ5x65WofA84QGHINYjM7LYoNKcJLCbEvjoKr1fpKkeUVoj9ZeUiQbjFKfo7mdIj4RlRNswCqbrBXt4tbOm/fShbFkrTE3QgFVMn7EZ2jq6uUErowo8L2qxNeEGyo5dDjcw1N2p0cjsElG8cc3o90Nwas/F4W65iSpd7w3fgZN1uhbIv45aAbw7H49aPBdi19rllZqntwfbrCzMzvpGfxxzfNmRV5Y2qsMo=
  - secure: cQ/x6yaU+SZV1cY01e+R7PBif6bn8xQ/JNh10kQNjtaWpJW593JSj0cvFn+X4f6gewQteOPOhYCVS2nr9dT8lzQEA/L+iRwh8HfAjmdKGCl0X7m3YMmBSghn7eJzEnhGPvWNq8QRQDG0uNKfHrED5dcGV6LR+ig9qjxfxiKK9M2AgEvqThDOiuySdFHW2/iVmpCOMW/6csk+0oeJjt73WXPrj6bLBJY4bIHP8+slN2zCKW37CKsxJGCyZzCs0odBC+vAgAHgISq09tluNOp1lIdl6TTy58IIObUyntirnjxVVHKiAhxSKhwWMfnlL0RvHeSKS68SsUDVBjBYpoWnBN8R+q5AMIwDmChR8CO03hnuodOEqUaspGfixEjLww3low2cRR2H3mSYJjYZFDGdHlz35Rpj36BYs6dhzH/a68pszdjbHuLUee1C2U+gHtd7cPtoZDN9N7PcXMSL4Kq+IyV4Lwip/7bC/4yRO37paRVOZ/FcsXSKL6n+vsNEH7bgvfS0dAiGWPXWqSo6zBDd/StiwURWfv4j8RZkC7FJYnoQlilfv3P7y8sMSuTovNCD72i2b7OWTYAQ0PECQuHQRu/nCf5rhYEJxos6bxFD/rwiqQwBUzAHw0Kh9fLWyJsZyz6c5NkhdStsC5LPnaMU7ECQi/Dq8KAcH3T1gsbkLYU=
  - secure: kC61ChiCoW0wbMa0R2BJfMgFa/PFbQUYg77oRmb8Ko9zNqWFdjwPAB1SXuCBSgqt8Hb7qDDif2JbCurGDNqblkcGt5f9IqpHZG837UpePhS4LhZueJT7lIfJMqZXAFp0AndV+0hfPVQhoPu9W6G5QWR5ll1o1pWLB/uLWa2pBTMHMH/uNsKjgyGJ6bF1L5ebJsaOYzVf+Mi5rw6mmZ57l9Ss6+VeEpRiseIw5NIvl4oozs+EXhDgpalRxd4LW37yWnEdKjbHT8tfWb2WMcSkgHRoUwIyoDhdEN1WeENvNk6FdfcZUvfOya92Z6WLHUfeSuqCIY49W3Vgghv1nPd2maImvlVZ0oVJnFlaRWpoIVFjBT4CzT/snWcmT2WxJRth0bwgDwR/w1QFmUKKumrzueSzPfyAbHsusnE4hLJiMkF3copvnHIizq4F/Cdt+yYMKC0LAgGs9dMvviQ3tDu/5XZxpR/iK6gaRBvERJKWwUiNYBVPUNM0KP9RSQjcn/u431Qr1uh907UMk8egglUGeoLJr+++d8FBTmjIWZoDqQ+tjcAsPgjAnL+5I2mRaI8CQTVZWKBSMftW0nO1Ma797WbN9XXlsw0YSob2ARWDhuKpwYdV8tEVOxTrrCNTZU9ACtUfrRKb6Lb0DlvGBGlqpE4IuVERR+qkCGPRRL5wFQI=
