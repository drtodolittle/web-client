language: node.js
service: docker
before_script:
- npm install

script: gulp travis-build
after_success:
  - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
  - export REPO=drtodolittle/web-client
  - docker build -f Dockerfile -t $REPO:latest .
  - docker push $REPO
env:
  global:
  - secure: Cfy/JnCxd2Nfvasjf5umNzwIyiMtvs5+RjfHlERo+AQmMu0jleaZ8jWeak0c5smCk7DE12kwMqA78BJDXlHWOxW4F6vKi3DjpvmmtXTcNXii5Zr5+aFAKwSvM5EQWNzHQg61FlS/GC+LQ/HEMov9boI7ymM+lPs/9CY0jp1KFlUqgF9p8hrNabEvlIokzmEUuj9bd+j26crsdBFwpX6+IEz9DUaQq8tU+NOAB/6Tgevg/TxvKN/ZqPBMzWTl+2I/y6fJuIjIb+qxkgHbQ4UtbEimFgtqxJvCiqy5tytRLQOOP9Uh4+vxnAR7FQ6SZTlJhSecJzgCZEX8MyG30MAxsASdRhBBjTo0bSsnC5F5WMvk+koQQ+yq8ht/YPUP4xpuydRFamr4cJurb2RGszVNBvpyYBT/igxRMpixEhMJbISMtcbmVwxs5QdrpEjvYfk42DinlxtTrzHYXWjkKfOq6EtqZnt1aMnpfc+NTCVezX/pMnFDdnpUduQ61zoISZ4X/6bWwIPIHwkyxVJggOrghZcfy8VyfvAn2q+PrXScl+SG8j93yzs3bBkKuSkcfFFEp3JsvdCXdRxxMAGzzl3pkEgVIlt4KliX4THQRyR8wV0nOW4rtC5LCVMOt97h3y3FNvTDpMVxrKGZPZZuCHbKVUe8HVLudJCpnaqHugbVWrM=
  - secure: GDNnwPlbBDoG3XfRnlNscXqCJc3zxTZrykLVUrOkwrl2RZDMiYuxTHbMi6w/k7lqfQsOhJDyzKotXYyYdtZ/Fr3QzpuN57EVpIFOc3M1/tw247EiI14sO66XcaHEMEWF6XgGOGGDz/545ZTeBbMI9LErbesJYd47c1OlpIjnsRxzpQGPIAqGOn/aL2aiuxcp3Q1RMuMf5WIiGXn/cTaqZ3qwh4BwhHKflg5SlXUeokkpElvKQMWKqVTG4qsRqCxIEJZfgpoUN6Tc9LNixfwjwPTWp+pVBO/zvGgpfUV1zNoiliakAhZHJSCwYjDMJRQNsf0nESs+Yx8F7Fj1A9e5cc+O5IH1rGnUgVKryiFzv89H3M/GJDdkfnKb0/Z9LCgg6VG08xbwHz1z/SIVfjpv0WNUu2tlju7R7xH0rXaro2xqVIa2J7hQivNQlBfxk4reJPSrOPGETt3oKzUV0dlvIp3aNkUqovzU/b5OWswyU1F0R4Poo6v9QQKdzAX+cT9SGmhSoWjWwlfSIGQ9wpcgA8LHJhic4g6tPIcSKWsQR2H3mBzSgd10UvOXCbSCcXi9O0kTeGFQQYEMbuixs4vyuKTf+MguZB6n3Jjdm3h3oynY7Bky4D/wsfCukK5jTMAtU0JtwEdTheQh/Oz4u93IOVzxSxS6IWkGAQLoWMt719Q=
  - secure: gXow41N1o9Z8LHaIzFUFhqGlxx9tsNeYgeTsP1aRlvbstTF3ezFmfeTG5MR5O1Jp/2e11+GA/+C+5SWQmMsxkex0MTQ7dMSi95YiZ4mrv/Wtd1eQwgC844F8PgGj4taI6ftsw6YdQsE4GvYX5UVESghBB+jABThx4BIUt0QsklUKgdEV3x2gW2LYy3Wu+FS98o6bmTN/O08Wy5opM3FVbnU8DKaRh+WBZHAyCf5RwiI7GIBVVqU3qsa9lB74qWxakf/jqSRIvXp+I+KFdmO/wpHgV9yqp15i0b+jlOFJDuXoIJ2vajwNd2FJk1X2QDZ6mFysJOV/h9LIDEmBGncEtIvf6wJ63jtkne93niKf7m1mbsxmNov/EfF9/93FfNVnQ6aYs6glGja+ivCLJyVKij5h6VaXo5DZuJd3ISi1YQN5XT9d0nECbFp7Bh/cCbmqO4QdmrLRPKLBPCRnk6PWWw/cGLDwPALINDOMOEpmKcFMg3GUcj0lvwHGO3gVgoIJBEkXYyyffWmEYkhe3JaZSFuYbgXYsN/YPM6SE3hau3ik/i99RUUxW23UqDvR1QXFEIMcPTsJw86wWtz0IB4weH2h5jSGpzp2NQBallFhSA/4y3usjHgcV0fgNftyyFBTXGbZfQPO2Oyjwf6OQSFV81vdq/0zWLwWyenwUfXeHlc=
